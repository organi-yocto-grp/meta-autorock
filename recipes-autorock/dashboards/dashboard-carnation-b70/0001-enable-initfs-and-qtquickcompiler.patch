diff --git a/hongqi.pro b/hongqi.pro
index 6384ab4..94fe1c0 100644
--- a/hongqi.pro
+++ b/hongqi.pro
@@ -9,7 +9,9 @@ TEMPLATE = app
 DEFINES += HONGQI_RECV
 DEFINES += HONGQI
 DEFINES += TIMER_FREQ
-
+DEFINES += INITROOT_STARTUP
+LIBS += -linitroot_startup
+CONFIG += qtquickcompiler
 CONFIG(release, debug|release) {
     DEFINES += QT_NO_DEBUG_OUTPUT
 }
diff --git a/src/main.cpp b/src/main.cpp
index f4a794d..31fecaf 100644
--- a/src/main.cpp
+++ b/src/main.cpp
@@ -23,7 +23,7 @@
 
 
 #include <specific_carstatus.h>
-
+#include <initroot_startup.h>
 static pid_t pid;
 static bool exit_loop = true;
 
@@ -113,11 +113,12 @@ int server_main(int argc, char *argv[])
 
 	engine.load(QUrl(QStringLiteral("qrc:/qml/qml/mainViewer.qml")));
 
-	return app.exec();
+    return startup_end(app.exec);
 }
 
 int main(int argc, char **argv)
 {
+    startup_begin();
 	if (signal(SIGINT, signal_handler) == SIG_ERR ||
 			signal(SIGTERM, signal_handler) == SIG_ERR) {
 		qDebug() << "main process register signal handler fail\n";
